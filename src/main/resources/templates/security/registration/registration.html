<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="~{components/metaHeader :: metaHeader}"></th:block>

    <title>ДостоREAD - регистрация аккаунта</title>
</head>
<body>

<div th:replace="~{components/navbar :: navbar}"></div>

<h1 class="h1 text-center text-primary my-5">Регистрация аккаунта</h1>

<form class="bg-primary col-10 mx-auto rounded" novalidate method="post" th:action="@{/registration}" th:object="${registration}">
    <div class="mb-3 pt-3 mx-3">
        <label for="username" class="form-label text-light">Имя пользователя</label>
        <input type="text" name="username" id="username" class="form-control text-primary" th:value="*{username}" th:field="*{username}">
        <div th:if="${#fields.hasErrors('username')}">
            <p th:each="err : ${#fields.errors('username')}" th:text="${err}" class="text-danger pt-3"></p>
        </div>
    </div>
    <div class="mb-3 mx-3">
        <label for="email" class="form-label text-light">Электронная почта</label>
        <input type="email" name="email" id="email" class="form-control text-primary" th:value="*{email}" th:field="*{email}">
        <div th:if="${#fields.hasErrors('email')}">
            <p th:each="err : ${#fields.errors('email')}" th:text="${err}" class="text-danger pt-3"></p>
        </div>
    </div>
    <div class="mb-3 mx-3">
        <label for="password" class="form-label text-light">Пароль <br>(Пароль должен содержать минимум 1 заглавную латинскую букву, минимум 1 строчную латинскую букву, минимум 1 специальный символ и минимум 1 цифру, длина пароля от 8 до 14 символов)</label>
        <input type="password" name="password" id="password" class="form-control text-primary" th:value="*{rawPassword}" th:field="*{rawPassword}">
        <div th:if="${#fields.hasErrors('rawPassword')}">
            <p th:each="err : ${#fields.errors('rawPassword')}" th:text="${err}" class="text-danger pt-3"></p>
        </div>
    </div>
    <div class="mb-3 mx-3">
        <label for="passwordConfirmation" class="form-label text-light">Подтверждение пароля</label>
        <input type="password" name="passwordConfirmation" id="passwordConfirmation" class="form-control text-primary" th:value="*{rawPasswordConfirmation}" th:field="*{rawPasswordConfirmation}">
        <div th:if="${#fields.hasErrors('rawPasswordConfirmation')}">
            <p th:each="err : ${#fields.errors('rawPasswordConfirmation')}" th:text="${err}" class="text-danger pt-3"></p>
        </div>
    </div>
    <div class="mb-3 mx-3">
        <div class="d-flex align-items-start">
            <img th:src="@{/assets/show.png}" alt="изображение показать пароль" id="show_hide_password" class="img-fluid mx-0 hide" style="width: 30px; height: 30px;">
            <p class="text-light ms-3">Показать пароль</p>
        </div>
    </div>
    <div class="pb-3 d-grid col-4 mx-auto">
        <button class="btn btn-light text-primary" type="submit">Зарегистрироваться</button>
    </div>
</form>

<p class="text-primary text-center mt-3">Уже есть аккаунт? <a th:href="@{/login}" class="text-primary">Войти</a></p>

<div th:replace="~{components/footer :: footer}"></div>

<script th:src="@{~/scripts/toggleVisibilityPassword.js}"></script>

</body>
</html>